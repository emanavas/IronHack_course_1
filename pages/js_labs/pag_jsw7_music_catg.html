<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" type="text/css" href="/style.css">
    <link rel="stylesheet" href="/lib_style.css">
    <link rel="stylesheet" href="/css/porfolio.css">
    <!--bootstrap-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="libs/finisher-header.es5.min.js" type="text/javascript"></script>

    <script src="/js/partials.js"></script>
</head>
<body>

    <nav class="cnt_nav">
        <input id="toggle_menu" type="checkbox">
        <div class="burger_lines">
            <label id="menu" for ="toggle_menu">
                <div class="menu_btn">
                    <div class="line"></div>
                    <div class="line"></div>
                    <div class="line"></div>
                </div>
            </label>    
        </div>
        
        <div id="navbar_content" class="menu_content">
            <!--here will be added the menu using javascript-->
        </div>
    </nav>

    <main class="container  ">

        <div class="cnt_main_general p-1 p-sm-4">
            
            <h1 class="text-center padding-30">Exercices</h1>
            
            <div class="">
                <div class="row justify-content-center">
                    <h4>2. Music catalogue</h4>
                    <div class="row border border-black rounded-2">
                        <strong>Music list</strong>
                        <div class="col-12 col-md-6">
                            <ul id="music_list" class="list-group list-group-flush">
                                <!-- Music list will be populated here -->
                            </ul>
                        </div>
                        <div class="row p-2">
                            <!--list of button actions to delete first and last song-->
                            <div class="col-12 col-md-6">
                                <button id="delete_first" class="btn btn-danger" onclick="deleteSong(0)">Delete first song</button>
                                <button id="delete_last" class="btn btn-danger" onclick="deleteSong(-1)">Delete last song</button>
                            </div>
                            <!--input to find a song-->
                            <div class="col-12 col-md-6">
                                <input type="text" id="song_to_find" placeholder="Song to find">
                                <button id="find_song" class="btn btn-primary" onclick="findSong()">Find song</button>
                            </div>
                        </div>
                    </div>
                    <script>
                        let musicList = document.getElementById("music_list");
                        let music = [
                            {title: "Song 1", artist: "Artist 1", genre: "Pop"},
                            {title: "Song 2", artist: "Artist 2", genre: "Rock"},
                            {title: "Song 3", artist: "Artist 3", genre: "Jazz"},
                            {title: "Song 4", artist: "Artist 4", genre: "Classical"},
                            {title: "Song 5", artist: "Artist 5", genre: "Hip-Hop"},
                            {title: "Song 6", artist: "Artist 6", genre: "Electronic"},
                            {title: "Song 7", artist: "Artist 7", genre: "Country"},
                            {title: "Song 8", artist: "Artist 8", genre: "Blues"},
                            {title: "Song 9", artist: "Artist 9", genre: "Reggae"},
                            {title: "Song 10", artist: "Artist 10", genre: "Dance"},
                            {title: "Song 11", artist: "Artist 11", genre: "Soul"}
                        ];
                        function printMusic() {
                            musicList.innerHTML = ""; // Clear the list before appending new items
                            music.forEach(song => {
                                let li = document.createElement("li");
                                li.className = "list-group-item";
                                li.innerHTML = `${song.title} - ${song.artist} (${song.genre})`;
                                musicList.appendChild(li);
                                console.log(`Song: ${song.title}, Artist: ${song.artist}, Genre: ${song.genre}`);
                            });
                        }
                        printMusic();
                        function deleteSong(index) {
                            if (index === 0) {
                                music.shift(); // Remove the first song
                            } else if (index === -1) {
                                music.pop(); // Remove the last song
                            }
                            printMusic(); // Refresh the list
                        }
                        function findSong() {
                            let songToFind = document.getElementById("song_to_find").value.toLowerCase();

                            let found = music.indexOf(music.find(song => song.title.toLowerCase() === songToFind));
                            if (found) {
                                alert(`Found: ${music[found].title} - ${music[found].artist} (${music[found].genre})`);
                            } else {
                                alert("Song not found");
                            }
                        }
                    </script>
                </div>
                <br>





            </div> 

        </div>

        
        
    </main>


    <script >
        window.onload = () => {
            load_into_id("navbar_content", "/partials/nav_main.html");
        }
    </script>

</body>
</html>